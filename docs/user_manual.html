

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>User manual &mdash; VT Server  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to make a module" href="module_howto.html" />
    <link rel="prev" title="VT Server" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> VT Server
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">User manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-server">Running the server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-as-a-daemon">Running as a daemon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sending-queries-from-a-client">Sending queries from a client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-structure-of-a-query">General structure of a query</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#query-hash">Query hash</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stack-definition">Stack definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sub-queries">Sub-queries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#first-example">First example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-format">Output format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sub-query">Sub-query</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-async">Using <cite>async</cite></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module_howto.html">How to make a module</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Source documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">VT Server</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>User manual</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/user_manual.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="user-manual">
<h1>User manual<a class="headerlink" href="#user-manual" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Download the server from <a class="reference external" href="https://github.com/egaudrain/VTServer/archive/master.zip">https://github.com/egaudrain/VTServer/archive/master.zip</a>.</p>
<p>Note that the server hasn’t been tested on Windows, only on macOS and Linux. In principle
it should also work, but so far nobody tried.</p>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>The server is written for Python 3.5+, so you’ll need to make sure you have this installed. On all platforms
you can use <a class="reference external" href="https://www.anaconda.com/products/individual#Downloads">Conda</a>, or install your own Python if
it is not already there.</p>
<p>Once Python installed, you’ll need to get <a class="reference external" href="https://pip.pypa.io/en/stable/installing/">pip</a> to be able to install
the external dependencies. If you used Conda as you package manager, you can also do these through it. On (Debian/Ubuntu) Linux
you can get pip through:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo apt install python3-pip
</pre></div>
</div>
<p>VTServer uses <strong>pysoundfile</strong> to read sound files. On Linux you will need to install <a class="reference external" href="http://www.mega-nerd.com/libsndfile">libsndfile1</a> directly:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo apt install libsndfile1
</pre></div>
</div>
<p>It is also recommended to install <strong>samplerate</strong> for precise and efficient resampling. On Linux, that means you need to install <a class="reference external" href="http://www.mega-nerd.com/libsamplerate/">libsamplerate</a>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo apt install libsamplerate0
</pre></div>
</div>
<p>The Numpy and Scipy packages of the current Ubuntu 18.04 LTS are not new enough, so just get the latest with pip.
On macOS, it is also recommended to use pip to install these dependencies.</p>
<p>This can be done as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo -H pip3 install numpy scipy pysoundfile pyworld samplerate
</pre></div>
</div>
<p>To use ‘mp3’ as an output format, you need to install <a class="reference external" href="https://lame.sourceforge.io/">LAME</a>.</p>
<p>On Linux:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo apt install lame
</pre></div>
</div>
<p>On macOS with macport:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo port install lame
</pre></div>
</div>
<p>There is a line in the <code class="file docutils literal notranslate"><span class="pre">vt_server.conf.json</span></code> that indicates where the executable is located.</p>
</div>
<div class="section" id="running-the-server">
<h3>Running the server<a class="headerlink" href="#running-the-server" title="Permalink to this headline">¶</a></h3>
<p>For testing purposes, you can run the server from the command line. You can make
your own launching script to modify the default configuration that may not be suitable
for casual testing. Do something like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;PATH TO THE VTSERVER SRC FOLDER&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">vt_server</span>
<span class="kn">import</span> <span class="nn">vt_server_config</span> <span class="kn">as</span> <span class="nn">vsc</span>

<span class="n">vsc</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">[</span><span class="s2">&quot;lame&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;/opt/local/bin/lame&#39;</span>
<span class="n">vsc</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">[</span><span class="s2">&quot;logfile&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;./vt_server.log&#39;</span>
<span class="n">vsc</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">[</span><span class="s2">&quot;cachefolder&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;./cache&#39;</span>

<span class="n">vt_server</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Here modify the config to point to the correct location for the LAME executable, and we keep the log and the
cache in the local folder.</p>
<p>Once the server is running in a terminal, you’ll see some information if there’s an error.
To see more, check the log file (in a new terminal):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ tail -f vt_server.log
</pre></div>
</div>
</div>
<div class="section" id="running-as-a-daemon">
<h3>Running as a daemon<a class="headerlink" href="#running-as-a-daemon" title="Permalink to this headline">¶</a></h3>
<p>For production, you’ll want to run the server as a daemon. That’s relatively easy to do on most platforms.
Here are provided facilities for Linux systems that support <a class="reference external" href="https://www.freedesktop.org/wiki/Software/systemd/">systemd</a> (Debian, Ubuntu).</p>
<p>You’ll need to first install the Python systemd module:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo -H pip3 install systemd
</pre></div>
</div>
<p>Then just run <code class="file docutils literal notranslate"><span class="pre">install.ubuntu.sh</span></code> and it should do everything that’s needed. Note that this is a very rudimentary script.
It will install everything necessary in <code class="file docutils literal notranslate"><span class="pre">/usr/local/lib/vt_server</span></code>. Once installed, the server runs as user <cite>vt_server</cite>.</p>
<p>The configuration for the server can be found in <code class="file docutils literal notranslate"><span class="pre">/usr/local/etc/vt_server/vt_server.conf.json</span></code>.
Watchout if you modify the cache folder, make sure that the folder exists and that the user <cite>vt_server</cite> has read/write access to it.</p>
<p>From there on, you can start, stop the server through:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ sudo systemctl [start|stop] vt_server
</pre></div>
</div>
</div>
</div>
<div class="section" id="sending-queries-from-a-client">
<h2>Sending queries from a client<a class="headerlink" href="#sending-queries-from-a-client" title="Permalink to this headline">¶</a></h2>
<p>The VT Server package does not include a Python client, but it’s very easy to build.
Assuming the server is running on its default address (127.0.0.1) and port (1996),
you can use the following function to send a command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">1996</span>

<span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>

    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">!=</span><span class="nb">type</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">sock</span><span class="p">:</span>
        <span class="c1"># Connect to server and send data</span>
        <span class="n">sock</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
        <span class="n">sock</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">data</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Sent:     {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="c1"># Receive data from the server and shut down</span>
        <span class="n">received</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sock</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">),</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Received: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">received</span><span class="p">))</span>

        <span class="n">res</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">received</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;out&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;ok&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">res</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;details&#39;</span><span class="p">])</span>
            <span class="k">return</span> <span class="bp">None</span>
</pre></div>
</div>
<p>In the examples below, we will be using this <code class="xref py py-func docutils literal notranslate"><span class="pre">send()</span></code> function to communicate
with the server.</p>
<div class="section" id="general-structure-of-a-query">
<h3>General structure of a query<a class="headerlink" href="#general-structure-of-a-query" title="Permalink to this headline">¶</a></h3>
<p>Queries are sent as JSON-encoded objects. From Python, you can construct your query
as a <cite>dict</cite>, and transform it to JSON with <code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code> from the <code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code> module.</p>
<p>A query always start with an <strong>action</strong> key. The possible values are:</p>
<blockquote>
<div><dl class="simple">
<dt>“status”</dt><dd><p>Returns a status message indicating that the server is running. It also
indicates how many requests were processed since the last startup of the
server, and how many jobs are in the <code class="xref py py-data docutils literal notranslate"><span class="pre">JOBS</span></code> list.</p>
</dd>
<dt>“process”</dt><dd><p>This is what you need to apply modifications to a file.</p>
</dd>
</dl>
</div></blockquote>
<p>For <cite>“status”</cite>, no other information needs to be provided.</p>
<p>For <cite>“hash”</cite> and <cite>“process”</cite>, the query also needs to contain a <strong>file</strong> field,
and a <strong>stack</strong> field.</p>
<blockquote>
<div><dl class="simple">
<dt>file</dt><dd><p>The sound file(s) that will be processed. This can be an array
of files, in which case they are all processed and then concatenated. This
can also be a string where the files are separated with <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&gt;&gt;</span> <span class="pre">&quot;</span></code>
(note that this includes a space before, and a space after). The file
path is relative to where the <em>server</em> is running from (not the client).
<em>It is highly recommended to use absolute paths instead of relative paths.</em>
Also note that the input sound files should be in a format understood by
<a class="reference external" href="http://www.mega-nerd.com/libsndfile/#Features">linsndfile</a>.</p>
</dd>
<dt>stack</dt><dd><p>The list of processes that will be run on the file. Each item
in the stack is an object that is specific to the type of processing.
Each object must have a <strong>module</strong> attribute that is used to dispatch the
processing. This can also be a list of stacks that apply to everyone of
the files if <strong>file</strong> is an array (otherwise, the same stack is applied
to all files before concatenation). See below for more details on stack
definition.</p>
</dd>
</dl>
</div></blockquote>
<p>In addition to these mandatory field, a number of optional fields can also be provided:</p>
<blockquote>
<div><dl class="simple">
<dt>mode</dt><dd><p><cite>“sync”</cite> [default], <cite>“async”</cite> or <cite>“hash”</cite>. In <cite>sync</cite> mode, the server will only
send a response when the file is processed. In <cite>async</cite> mode, the server
will respond immediately with a <cite>“wait”</cite> response. The client can probe
periodically with the same request until the file is returned. <cite>hash</cite> only
returns the hash of the request that is used as identifier (see below).</p>
</dd>
<dt>format</dt><dd><p>Specifies the output format of the sound files. Can be <cite>“flac”</cite>, <cite>“wav”</cite>
(or anything else supported by <a class="reference external" href="http://www.mega-nerd.com/libsndfile/">libsndfile</a>, or <cite>“mp3”</cite>
(if <a class="reference external" href="http://www.mega-nerd.com/libsndfile/">LAME</a> is installed). If none is provided,
then the default cache format is used (see <a class="reference internal" href="modules.html#module-vt_server_config" title="vt_server_config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">vt_server_config</span></code></a>).</p>
</dd>
<dt>format_options</dt><dd><p>Specifies options (as a dictionary) for the selected
format. At the moment, only <cite>bitrate</cite> is specified (as an integer in kbps)
for format <cite>“mp3”</cite> (see <a class="reference internal" href="modules.html#vt_server_brain.encode_to_format" title="vt_server_brain.encode_to_format"><code class="xref py py-func docutils literal notranslate"><span class="pre">vt_server_brain.encode_to_format()</span></code></a> for details).</p>
</dd>
</dl>
</div></blockquote>
<div class="section" id="query-hash">
<h4>Query hash<a class="headerlink" href="#query-hash" title="Permalink to this headline">¶</a></h4>
<p>Each query is turned into a unique hash that represents its signature. This is
used by the caching system so that if a query is requested again, the cached result
can be sent immediately. The filename of the resulting sound file is also the hash
in question. It may be useful for the client to get access to this hash, either for
internal caching on the client side, or to check directly if a file exists.</p>
</div>
<div class="section" id="stack-definition">
<h4>Stack definition<a class="headerlink" href="#stack-definition" title="Permalink to this headline">¶</a></h4>
<p>A stack is a list of module definitions. The <strong>module</strong> key contains the name of
the module. Each module is ran one after another. Note that the output of each each
module is also cached, even when the module doesn’t do much (like adding silence).
We could make (intermediate) caching optional for future versions, but this is not
implemented at the moment.</p>
<p>Each module has its own parameters. See <a class="reference internal" href="modules.html#module-vt_server_modules" title="vt_server_modules"><code class="xref py py-mod docutils literal notranslate"><span class="pre">vt_server_modules</span></code></a> for more details.</p>
</div>
<div class="section" id="sub-queries">
<h4>Sub-queries<a class="headerlink" href="#sub-queries" title="Permalink to this headline">¶</a></h4>
<p>If a module has a <strong>file</strong> parameter (for instance the <a class="reference internal" href="modules.html#vt_server_modules.process_mixin" title="vt_server_modules.process_mixin"><code class="xref py py-func docutils literal notranslate"><span class="pre">mixin</span></code></a> module),
another query can be used in place of a file name. <strong>mixin</strong> adds two sound files
on top of each other. If you want to process them both before mixing, you can use a
sub-query.</p>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="first-example">
<h3>First example<a class="headerlink" href="#first-example" title="Permalink to this headline">¶</a></h3>
<p>A basic example adding a ramp to the sound file, and then padding silence before
and after. This is the full code, assuming we have a file <code class="file docutils literal notranslate"><span class="pre">Beer.wav</span></code> in
<code class="file docutils literal notranslate"><span class="pre">/home/toto/audio/</span></code>, and assuming the <code class="xref py py-func docutils literal notranslate"><span class="pre">send()</span></code> function described above has been
defined.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span>
    <span class="s1">&#39;file&#39;</span><span class="p">:</span>   <span class="s2">&quot;/home/toto/audio/Beer.wav&quot;</span><span class="p">,</span>
    <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">q</span><span class="p">[</span><span class="s1">&#39;stack&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
    <span class="s1">&#39;module&#39;</span><span class="p">:</span>   <span class="s2">&quot;ramp&quot;</span><span class="p">,</span>
    <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mf">50e-3</span><span class="p">,</span>
    <span class="s1">&#39;shape&#39;</span><span class="p">:</span>    <span class="s2">&quot;cosine&quot;</span>
<span class="p">})</span>

<span class="n">q</span><span class="p">[</span><span class="s1">&#39;stack&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
    <span class="s1">&#39;module&#39;</span><span class="p">:</span> <span class="s2">&quot;pad&quot;</span><span class="p">,</span>
    <span class="s1">&#39;before&#39;</span><span class="p">:</span> <span class="mf">500e-3</span><span class="p">,</span>
    <span class="s1">&#39;after&#39;</span><span class="p">:</span>  <span class="mf">500e-3</span>
<span class="p">})</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">send</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
</pre></div>
</div>
<p>The server will receive the following JSON query:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span>
    <span class="nt">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/toto/audio/Beer.wav&quot;</span><span class="p">,</span>
    <span class="nt">&quot;stack&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;ramp&quot;</span><span class="p">,</span>
            <span class="nt">&quot;duration&quot;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
            <span class="nt">&quot;shape&quot;</span><span class="p">:</span> <span class="s2">&quot;cosine&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;pad&quot;</span><span class="p">,</span>
            <span class="nt">&quot;before&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
            <span class="nt">&quot;after&quot;</span><span class="p">:</span> <span class="mf">0.5</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The server replies:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;out&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="nt">&quot;details&quot;</span><span class="p">:</span> <span class="s2">&quot;./cache/49a6947de5b3b8d113d491770977a743.flac&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>details</strong> contains the path to the result file. Because the default cache format is
<cite>FLAC</cite>, we get a .flac file. Note that the hash you would obtain for the same file will
be different because your file path will be different.</p>
</div>
<div class="section" id="output-format">
<h3>Output format<a class="headerlink" href="#output-format" title="Permalink to this headline">¶</a></h3>
<p>We can specify the output format using the <strong>format</strong> keyword. We can add it to the previous
query:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">q</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;mp3&quot;</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">send</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
</pre></div>
</div>
<p>This time we get:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;out&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="nt">&quot;details&quot;</span><span class="p">:</span> <span class="s2">&quot;./cache/49a6947de5b3b8d113d491770977a743.mp3&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The default compression for mp3 is 192 kbps. To change it, specify <code class="docutils literal notranslate"><span class="pre">q['format_options']</span> <span class="pre">=</span> <span class="pre">{'bitrate':</span> <span class="pre">320}</span></code>.
Note that LAME may not support all combinations of bitrates and sampling frequencies.</p>
</div>
<div class="section" id="sub-query">
<h3>Sub-query<a class="headerlink" href="#sub-query" title="Permalink to this headline">¶</a></h3>
<p>This example shows how to use sub-queries. Here we’ll create a sound file that
has the word “beer” (that’s bear in Dutch, by the way, not a beer to drink), starting
right away, and 1 s later, the same word, where the F0 has been shifted up 12 semitones,
and the VTL has been shifter -5 semitones, and attenuated by 6 dB:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span>
    <span class="s1">&#39;file&#39;</span><span class="p">:</span>   <span class="s2">&quot;/home/toto/audio/Beer.wav&quot;</span><span class="p">,</span>
    <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">q</span><span class="p">[</span><span class="s1">&#39;stack&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
    <span class="s1">&#39;module&#39;</span><span class="p">:</span> <span class="s2">&quot;mixin&quot;</span><span class="p">,</span>
    <span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span>
        <span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="s1">&#39;/Users/egaudrain/Sources/VTServer/test/Beer.wav&#39;</span><span class="p">,</span>
        <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s1">&#39;module&#39;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
                <span class="s1">&#39;f0&#39;</span><span class="p">:</span> <span class="s2">&quot;+12st&quot;</span><span class="p">,</span>
                <span class="s1">&#39;vtl&#39;</span><span class="p">:</span> <span class="s2">&quot;-5st&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s1">&#39;levels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">],</span>
    <span class="s1">&#39;pad&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="s1">&#39;align&#39;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span>
<span class="p">})</span>
</pre></div>
</div>
<p>This produces the following JSON query:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span>
    <span class="nt">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/toto/audio/Beer.wav&quot;</span><span class="p">,</span>
    <span class="nt">&quot;stack&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;mixin&quot;</span><span class="p">,</span>
            <span class="nt">&quot;file&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span>
                <span class="nt">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/toto/audio/Beer.wav&quot;</span><span class="p">,</span>
                <span class="nt">&quot;stack&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;f0&quot;</span><span class="p">:</span> <span class="s2">&quot;+12st&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;vtl&quot;</span><span class="p">:</span> <span class="s2">&quot;-5st&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="nt">&quot;levels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">-6</span><span class="p">],</span>
            <span class="nt">&quot;pad&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="nt">&quot;align&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="using-async">
<h3>Using <cite>async</cite><a class="headerlink" href="#using-async" title="Permalink to this headline">¶</a></h3>
<p>When reaching to the server through the internet (more on this below), you probably
don’t want to wait for the VT Server to be done. The main reason is that the connection
may be interrupted, or you may want to display a loader to the user, and check periodically
if the processing is ready.</p>
<p>To do that, we run the query in <cite>async</cite> mode. In this mode, the server will not reply
<cite>“ok”</cite>, but instead will reply <cite>“wait”</cite>. If you send the same query again later, the
server will reply <cite>“wait”</cite> until the processing of the query is completed, at which
point it will reply <cite>“ok”</cite> and give the link to the processed sound file.</p>
<p>On <a class="reference external" href="https://dbsplab.fun">https://dbsplab.fun</a>, this is implemented in Javascript this way:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">    Tools to send a vt query and wait for the file to be ready.</span>
<span class="cm">    Requires jQuery.</span>
<span class="cm">*/</span>

<span class="kd">function</span> <span class="nx">buf2hex</span><span class="p">(</span><span class="nx">buffer</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// buffer is an ArrayBuffer</span>
    <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">map</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="nx">buffer</span><span class="p">),</span> <span class="nx">x</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="s1">&#39;00&#39;</span> <span class="o">+</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">)).</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">vt_hash</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">prefix</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">crypto_</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">crypto</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">msCrypto</span><span class="p">;</span> <span class="c1">// for IE 11</span>
    <span class="c1">// Watchout, this is not the same hash as used by the vt-server, this is just for internal use.</span>
    <span class="c1">// Also watchout, in some Chrome version, this only works over HTTPS.</span>
    <span class="k">return</span> <span class="nx">prefix</span><span class="o">+</span><span class="nx">buf2hex</span><span class="p">(</span><span class="nx">crypto_</span><span class="p">.</span><span class="nx">subtle</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s1">&#39;SHA-1&#39;</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">q</span><span class="p">)));</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createArray</span><span class="p">(</span><span class="nx">len</span><span class="p">,</span> <span class="nx">itm</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">while</span><span class="p">(</span><span class="nx">len</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">itm</span><span class="p">);</span>
        <span class="nx">len</span><span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">arr</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">vt</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">success_cb</span><span class="p">,</span> <span class="nx">error_cb</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// q</span>
    <span class="c1">//     Is the query as a javascript object</span>
    <span class="c1">// success_cb(url)</span>
    <span class="c1">//     A callback that will receive a string that is the URL</span>
    <span class="c1">//     of the processed sound file</span>
    <span class="c1">// error_cb(msg)</span>
    <span class="c1">//     Receives a string with details about the error</span>

    <span class="c1">// We keep a list of queries to make sure they&#39;re not taking for ever...</span>
    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">vt</span><span class="p">.</span><span class="nx">qt</span><span class="o">===</span><span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
        <span class="nx">vt</span><span class="p">.</span><span class="nx">qt</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">vt_hash</span><span class="p">(</span><span class="nx">q</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">vt</span><span class="p">.</span><span class="nx">qt</span><span class="p">))</span>
        <span class="nx">vt</span><span class="p">.</span><span class="nx">qt</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="o">-</span><span class="nx">vt</span><span class="p">.</span><span class="nx">qt</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">20000</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">error_cb</span><span class="p">(</span><span class="s2">&quot;It is taking way too long for the server to respond... maybe it&#39;s offline?&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/ajax/vt.php&#39;</span><span class="p">,</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
        <span class="nx">timeout</span><span class="o">:</span> <span class="mi">5000</span><span class="p">,</span>
        <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">try</span><span class="p">{</span>
                <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">error_cb</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t understand the response of the server...: &quot;</span><span class="o">+</span><span class="nx">data</span><span class="p">);</span>
                <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;wait&#39;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">vt</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">success_cb</span><span class="p">,</span> <span class="nx">error_cb</span><span class="p">);</span> <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
                    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">delete</span> <span class="nx">vt</span><span class="p">.</span><span class="nx">qt</span><span class="p">[</span><span class="nx">h</span><span class="p">];</span>
                    <span class="k">return</span> <span class="nx">success_cb</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]);</span>
                <span class="p">}</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">error_cb</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">errorThrown</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">textStatus</span><span class="o">==</span><span class="s1">&#39;timeout&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">vt</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">success_cb</span><span class="p">,</span> <span class="nx">error_cb</span><span class="p">);</span> <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
                <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">jqXHR</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">403</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// Looks like we didn&#39;t get permission...</span>
                <span class="nx">error_cb</span><span class="p">(</span><span class="s2">&quot;It seems you do not have permission to run this query.&quot;</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span>
                <span class="nx">error_cb</span><span class="p">(</span><span class="s2">&quot;An error occured while processing the sounds: &quot;</span><span class="o">+</span><span class="nx">errorThrown</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">vt_multi</span><span class="p">(</span><span class="nx">qs</span><span class="p">,</span> <span class="nx">success_cb</span><span class="p">,</span> <span class="nx">error_cb</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Same as `vt` but qs is an array of queries. The success callback is called</span>
    <span class="c1">// when all queries are completed and it receives an array of results.</span>

    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">vt_multi</span><span class="p">.</span><span class="nx">qs</span><span class="o">===</span><span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
        <span class="nx">vt_multi</span><span class="p">.</span><span class="nx">qs</span> <span class="o">=</span> <span class="p">{};</span>

    <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">vt_hash</span><span class="p">(</span><span class="nx">qs</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">);</span>

    <span class="nx">vt_multi</span><span class="p">.</span><span class="nx">qs</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span> <span class="o">=</span> <span class="nx">createArray</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>

    <span class="nx">qs</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span> <span class="nx">i</span><span class="p">){</span>
        <span class="nx">vt</span><span class="p">(</span>
            <span class="nx">q</span><span class="p">,</span>
            <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">){</span>
                <span class="nx">vt_multi</span><span class="p">.</span><span class="nx">qs</span><span class="p">[</span><span class="nx">h</span><span class="p">][</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">;</span>
                <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">m</span> <span class="k">of</span> <span class="nx">vt_multi</span><span class="p">.</span><span class="nx">qs</span><span class="p">[</span><span class="nx">h</span><span class="p">])</span>
                <span class="p">{</span>
                    <span class="k">if</span><span class="p">(</span><span class="nx">m</span><span class="o">===</span><span class="kc">null</span><span class="p">)</span>
                        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="nx">success_cb</span><span class="p">(</span><span class="nx">vt_multi</span><span class="p">.</span><span class="nx">qs</span><span class="p">[</span><span class="nx">h</span><span class="p">]);</span>
                <span class="k">delete</span> <span class="nx">vt_multi</span><span class="p">.</span><span class="nx">qs</span><span class="p">[</span><span class="nx">h</span><span class="p">];</span>
            <span class="p">},</span>
            <span class="nx">error_cb</span>
        <span class="p">)</span>
    <span class="p">});</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Note that these Javascript functions do not interface directly with the server,
instead they interface with <code class="file docutils literal notranslate"><span class="pre">/ajax/vt.php</span></code>, which is a wrapper for the PHP client.
It is checking that the query is authorized before sending it to the VT Server.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="module_howto.html" class="btn btn-neutral float-right" title="How to make a module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="VT Server" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Etienne Gaudrain.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>